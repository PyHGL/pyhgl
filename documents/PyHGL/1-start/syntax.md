# Syntax 


PyHGL adds some syntactic sugar to the original Python Grammar. PyHGL Parser is generated by [Pegen](https://github.com/we-like-parsers/pegen). To correctly parse the PyHGL source file (with `.pyh` suffix), import pyhgl in `.py` file and then the interpreter can recognize `.pyh` file. 

```py
# in Adder.pyh 
"""
any python or pyhgl code
"""
# in main.py 
import pyhgl  
import Adder 
``` 

## Operators 

| Symbol          | Description                                                                       |
| --------------- | --------------------------------------------------------------------------------- |
| `!x`            | Operator LogicNot                                                                 |
| `x && y`        | Operator LogicAnd                                                                 |
| `x \|\| y`      | Operator LogicOr                                                                  |
| `x \|-> y`      | Operator Imply                                                                    |
| `x ++ y `       | Operator Sequential                                                               |
| `x <<< y`       | Reserved                                                                          |
| `x >>> y`       | Reserved                                                                          |
| `x <== y`       | Assignment, oneline expression, does not support star targets like `a, b <== c`   |
| `x[keys] <== y` | Partial Assignment, oneline expression. `x[keys]` here is not a slicing operation |
| `x <=> y`       | Connect, oneline expression                                                       |


## Statements 

PyHGL statements are syntactic sugar of some python statements. 

### decorator

```py 
# pyhgl
@decorator NAME:
    ...  
# python 
@decorator 
def NAME():
    ...
    return locals()

# pyhgl 
@decorator NAME(*args, **kwargs):
    ... 
# python 
@decorator 
def NAME(*args, **kwargs):
    ...
    return locals()
``` 

### when_stmt 

```py 
# pyhgl 
when signal:
    ... 
elsewhen signal:
    ... 
otherwise:
    ... 

# python 
with __hgl_when__(signal):
    ... 
with __hgl_elsewhen__(signal):
    ... 
with __hgl_otherwise__():
    ...
```

### switch_stmt 

```py 
# pyhgl
switch signal:
    once a, b:
        ... 
    once c: 
        ... 
    once ...:
        ...

# python 
with __hgl_switch__(signal):
    with __hgl_once__((a,b)):
        ...
    with __hgl_once__(c):
        ... 
    with __hgl_once__(...):
        ...
```